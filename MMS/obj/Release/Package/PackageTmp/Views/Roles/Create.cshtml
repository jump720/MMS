@model MMS.Models.RolesViewModel

@{
    ViewBag.Title = "Roles";
    ViewBag.Subtitle = "Create";
    Layout = "~/Views/Shared/_LayoutTT.cshtml";
}
@section Styles
{
    @Styles.Render("~/bundles/cssSelect2")
}
@section Scripts
{
    @Scripts.Render("~/bundles/jsDataTables")
    @Scripts.Render("~/bundles/jsSelect2")
    @Scripts.Render("~/bundles/jsVue")
    <script src="~/Scripts/Seguridad/Roles.js" type="text/javascript"></script>

    <script type="text/javascript">
        $(function () {


            tableObjetos = $("#tableObjetos").dataTable({
                scrollY: '50vh',
                scrollCollapse: true,
                searching: false,
                paging: false
            });

            $.MMS.Roles("create");

        });
    </script>
}


@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="row clearfix">
        <div class="col-md-12">
            <div class="card" id="cardForm">
                <div class="header bg-blue">
                    <h2>
                        @ViewBag.Title <small>@ViewBag.Subtitle</small>
                    </h2>
                </div>
                <div class="body">
                    @Html.ValidationSummary(true, "", new { @class = "hide" })

                    <div class="row clearfix">
                        <div class="col-md-12">
                            <div class="form-group form-float">
                                <div class="form-line">
                                    @Html.EditorFor(model => model.Rol.RolNombre, new { htmlAttributes = new { @class = "form-control" } })
                                    @Html.LabelFor(model => model.Rol.RolNombre, htmlAttributes: new { @class = "form-label" })
                                    @Html.ValidationMessageFor(model => model.Rol.RolNombre, "", new { @class = "" })
                                </div>
                            </div>
                        </div>
                        <ul class="nav nav-tabs" role="tablist">
                            <li role="presentation" class="active">
                                <a href="#object_tab" data-toggle="tab">
                                    <i class="material-icons">view_module</i> Objects
                                </a>
                            </li>
                            <li role="presentation">
                                <a href="#apps_tab" data-toggle="tab">
                                    <i class="material-icons">apps</i> Apps
                                </a>
                            </li>

                        </ul>


                        <div class="tab-content">
                            <div role="tabpanel" class="tab-pane fade in active" id="object_tab">
                                <div class="col-md-12">
                                    <table class="table table-condensed table-hover table-striped table-va-middle" id="tableObjetos">
                                        <thead>
                                            <tr>
                                                <th>@Html.DisplayNameFor(model => model.Objetos[0].ObjetoId)</th>
                                                <th>
                                                    <input type="checkbox" class="form-control" id="SelectAllObj" />
                                                    <label class="fix-checkbox" for="SelectAllObj">Select all</label>                                                   
                                                </th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            @for (int i = 0; i < Model.Objetos.Count; i++)
                                            {
                                                <tr>

                                                    <td>
                                                        @Html.HiddenFor(model => model.Objetos[i].ObjetoId)
                                                        @Model.Objetos[i].ObjetoId
                                                    </td>
                                                    <td>
                                                        @Html.EditorFor(model => model.Objetos[i].Seleccionado, new { htmlAttributes = new { @class = "form-control" } })
                                                        @Html.LabelFor(model => model.Objetos[i].Seleccionado, " ", htmlAttributes: new { @class = "fix-checkbox" })
                                                    </td>
                                                </tr>
                                            }

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div role="tabpanel" class="tab-pane fade " id="apps_tab">
                                <div class="col-md-12">
                                    <table class="table table-condensed table-hover table-striped table-va-middle" id="tableApps">
                                        <thead>
                                            <tr>
                                                <th>@Html.DisplayNameFor(model => model.Apps[0].AplicacionNombre)</th>
                                                <th>
                                                    <input type="checkbox" class="form-control" id="SelectAllApp" />
                                                    <label class="fix-checkbox" for="SelectAllApp">Select all</label>
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @for (int i = 0; i < Model.Apps.Count; i++)
                                            {
                                                <tr>

                                                    <td>
                                                        @Html.HiddenFor(model => model.Apps[i].AplicacionId)
                                                        @Model.Apps[i].AplicacionNombre
                                                    </td>
                                                    <td>
                                                        @Html.EditorFor(model => model.Apps[i].Seleccionado, new { htmlAttributes = new { @class = "form-control" } })
                                                        @Html.LabelFor(model => model.Apps[i].Seleccionado, " ", htmlAttributes: new { @class = "fix-checkbox" })
                                                    </td>
                                                </tr>
                                            }

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <hr class="m-b-0 m-t--20" />
                <div class="body">
                    <input type="submit" value="Save" class="btn btn-primary waves-effect" />
                    @Html.ActionLink("Back to List", "Index", null, new { @class = "btn btn-default waves-effect", @onclick = "redirToReturnSearch(this, event)" })
                </div>
            </div>
        </div>
    </div>


}

